{"version":3,"file":"src_app_views_geolocation_geolocation_module_ts.js","mappings":"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","sources":["./src/app/views/geolocation/geolocation-routing.module.ts","./src/app/views/geolocation/geolocation.module.ts","./src/app/views/geolocation/geolocation.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GeolocationPage } from './geolocation.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GeolocationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class GeolocationPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GeolocationPageRoutingModule } from './geolocation-routing.module';\r\n\r\nimport { GeolocationPage } from './geolocation.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    GeolocationPageRoutingModule\r\n  ],\r\n  declarations: [GeolocationPage]\r\n})\r\nexport class GeolocationPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Geolocation } from '@awesome-cordova-plugins/geolocation/ngx';\r\nimport { NativeGeocoderOptions, NativeGeocoderResult, NativeGeocoder } from '@awesome-cordova-plugins/native-geocoder/ngx';\r\n\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-geolocation',\r\n  templateUrl: './geolocation.page.html',\r\n  styleUrls: ['./geolocation.page.scss'],\r\n})\r\nexport class GeolocationPage implements OnInit {\r\n\r\n  location: any = [];\r\n  direccion: string;\r\n  // location = localStorage.getItem('location');\r\n  // locationSearched: any;\r\n  // locationSelected: any;\r\n  coords: any = [];\r\n  loading = this.loadingCtrl.create();\r\n\r\n  constructor(\r\n    private geolocation: Geolocation,\r\n    private nativeGeocoder: NativeGeocoder,\r\n    private alert: AlertController,\r\n    private loadingCtrl: LoadingController\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async locate(){\r\n    (await this.loading).present();\r\n    const coordinates = await this.geolocation.getCurrentPosition();\r\n    this.coords = coordinates.coords;\r\n    console.log('Coordenadas: ',this.coords);\r\n    this.getCity(this.coords.latitude,this.coords.longitude);\r\n  }\r\n\r\n  async getCity(latitude,longitude) {\r\n    const options: NativeGeocoderOptions = {\r\n      useLocale: true,\r\n      maxResults: 7,\r\n    };\r\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, options)\r\n      .then((result: NativeGeocoderResult[]) => this.saveCity(result))\r\n      .catch((error: any)=> this.alertPresent(error,'Â¡ERROR!'));\r\n      (await this.loading).dismiss();\r\n  }\r\n\r\n  saveCity(result) {\r\n    console.log(JSON.stringify(result[0]));\r\n    this.location = result[0];\r\n    this.direccion = JSON.stringify(result[0]);\r\n    // const localidad = JSON.stringify(result[0].locality);\r\n  }\r\n\r\n  async alertPresent(data,title){\r\n    const alert = await this.alert.create({\r\n      header: title,\r\n      message: data,\r\n      buttons: ['Aceptar']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  async doRefresh(event) {\r\n    this.location = ''\r\n    event.target.complete();\r\n  }\r\n\r\n}\r\n"],"names":["Component","Geolocation","NativeGeocoder","AlertController","LoadingController","GeolocationPage","constructor","geolocation","nativeGeocoder","alert","loadingCtrl","create","ngOnInit","locate","loading","present","coordinates","getCurrentPosition","coords","console","log","getCity","latitude","longitude","options","useLocale","maxResults","reverseGeocode","then","result","saveCity","catch","error","alertPresent","dismiss","JSON","stringify","location","direccion","data","title","header","message","buttons","doRefresh","event","target","complete","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
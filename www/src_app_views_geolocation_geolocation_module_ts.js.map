{"version":3,"file":"src_app_views_geolocation_geolocation_module_ts.js","mappings":"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","sources":["./src/app/views/geolocation/geolocation-routing.module.ts","./src/app/views/geolocation/geolocation.module.ts","./src/app/views/geolocation/geolocation.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { GeolocationPage } from './geolocation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GeolocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class GeolocationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GeolocationPageRoutingModule } from './geolocation-routing.module';\n\nimport { GeolocationPage } from './geolocation.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    GeolocationPageRoutingModule\n  ],\n  declarations: [GeolocationPage]\n})\nexport class GeolocationPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Geolocation } from '@awesome-cordova-plugins/geolocation/ngx';\nimport { NativeGeocoderOptions, NativeGeocoderResult, NativeGeocoder } from '@awesome-cordova-plugins/native-geocoder/ngx';\n\nimport { AlertController, LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-geolocation',\n  templateUrl: './geolocation.page.html',\n  styleUrls: ['./geolocation.page.scss'],\n})\nexport class GeolocationPage implements OnInit {\n\n  location: any = [];\n  direccion: string;\n  // location = localStorage.getItem('location');\n  // locationSearched: any;\n  // locationSelected: any;\n  coords: any = [];\n  loading = this.loadingCtrl.create();\n\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    private alert: AlertController,\n    private loadingCtrl: LoadingController\n    ) { }\n\n  ngOnInit() {\n  }\n\n  async locate(){\n    (await this.loading).present();\n    const coordinates = await this.geolocation.getCurrentPosition();\n    this.coords = coordinates.coords;\n    console.log('Coordenadas: ',this.coords);\n    this.getCity(this.coords.latitude,this.coords.longitude);\n  }\n\n  async getCity(latitude,longitude) {\n    const options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5,\n    };\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => this.saveCity(result))\n      .catch((error: any)=> this.alertPresent(error,'Â¡ERROR!'));\n      (await this.loading).dismiss();\n  }\n\n  saveCity(result) {\n    console.log(JSON.stringify(result[0]));\n    this.location = result[0];\n    this.direccion = JSON.stringify(result[0]);\n    // const localidad = JSON.stringify(result[0].locality);\n  }\n\n  async alertPresent(data,title){\n    const alert = await this.alert.create({\n      header: title,\n      message: data,\n      buttons: ['Aceptar']\n    });\n    alert.present();\n  }\n\n}\n"],"names":["Component","Geolocation","NativeGeocoder","AlertController","LoadingController","GeolocationPage","constructor","geolocation","nativeGeocoder","alert","loadingCtrl","create","ngOnInit","locate","loading","present","coordinates","getCurrentPosition","coords","console","log","getCity","latitude","longitude","options","useLocale","maxResults","reverseGeocode","then","result","saveCity","catch","error","alertPresent","dismiss","JSON","stringify","location","direccion","data","title","header","message","buttons","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
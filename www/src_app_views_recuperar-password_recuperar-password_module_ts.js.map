{"version":3,"file":"src_app_views_recuperar-password_recuperar-password_module_ts.js","mappings":"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","sources":["./src/app/views/recuperar-password/recuperar-password-routing.module.ts","./src/app/views/recuperar-password/recuperar-password.module.ts","./src/app/views/recuperar-password/recuperar-password.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RecuperarPasswordPage } from './recuperar-password.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RecuperarPasswordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RecuperarPasswordPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RecuperarPasswordPageRoutingModule } from './recuperar-password-routing.module';\r\n\r\nimport { RecuperarPasswordPage } from './recuperar-password.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RecuperarPasswordPageRoutingModule\r\n  ],\r\n  declarations: [RecuperarPasswordPage]\r\n})\r\nexport class RecuperarPasswordPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController, MenuController } from '@ionic/angular';\r\nimport { AuthService } from 'src/app/services/authService/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-recuperar-password',\r\n  templateUrl: './recuperar-password.page.html',\r\n  styleUrls: ['./recuperar-password.page.scss'],\r\n})\r\nexport class RecuperarPasswordPage implements OnInit {\r\n\r\n  private loading = this.loadCtrlr.create();\r\n\r\n  constructor(\r\n    private tokenService: AuthService,\r\n    private router: Router,\r\n    private menu: MenuController,\r\n    private alert: AlertController,\r\n    private loadCtrlr: LoadingController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async restart() {\r\n    this.alertMessage();\r\n  }\r\n\r\n\r\n\r\n  async alertMessage() {\r\n    const alert = await this.alert.create({\r\n      header: '¿DESEA REINICIAR LA CONTRASEÑA?',\r\n      message: 'Se reiniciará la contraseña e iniciará sesión automáticamente.',\r\n      buttons: [\r\n        {\r\n          text: 'SÍ',\r\n          role: 'confirm',\r\n          handler: async () => {\r\n            (await this.loading).present();\r\n            const data = {\r\n              email: 'user',\r\n              password: '123456'\r\n            };\r\n            const info = await this.tokenService.loguearse(data)\r\n              .subscribe(async (res: any) => {\r\n                if(res.users) {\r\n                  const users = res.users;\r\n                  const usuario = users.find(\r\n                    (item: any) => ((item.user === data.email || item.email === data.email) && item.password === data.password)\r\n                  );\r\n                  if(usuario) {\r\n                    (await this.loading).dismiss();\r\n                    localStorage.setItem('token',usuario.token);\r\n                    localStorage.setItem('name',usuario.Usuario);\r\n                    localStorage.setItem('lastnames',usuario.lastnames);\r\n                    await this.router.navigateByUrl('/home');\r\n                  } else {\r\n                    this.alertError('Por favor verifique sus datos de usuario.');\r\n                  }\r\n                } else {\r\n                  this.alertError('Error al traer información del servidor.');\r\n                }\r\n              });\r\n          }\r\n        },\r\n        {\r\n          text: 'NO',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async alertError(msg: string) {\r\n    const alert = await this.alert.create({\r\n      header: '¡ERROR!',\r\n      message: msg,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  ionViewDidEnter(): void {\r\n    this.menu.enable(false);\r\n  }\r\n\r\n  ionViewDidLeave(): void {\r\n    this.menu.enable(true);\r\n  }\r\n}\r\n\r\n"],"names":["Component","AlertController","LoadingController","MenuController","AuthService","Router","RecuperarPasswordPage","constructor","tokenService","router","menu","alert","loadCtrlr","create","ngOnInit","restart","alertMessage","header","message","buttons","text","role","handler","loading","present","data","email","password","info","loguearse","subscribe","res","users","usuario","find","item","user","dismiss","localStorage","setItem","token","Usuario","lastnames","navigateByUrl","alertError","msg","ionViewDidEnter","enable","ionViewDidLeave","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}